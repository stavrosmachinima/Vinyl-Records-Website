<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="HandheldFriendly" content="true">
    <title>Register and Login</title>
    <script type="text/javascript" src="js/validate.js" defer></script>
    <script type="text/javascript" defer>
      function sendInfoNextPage(){
        var username=document.getElementById('username').value;
        var usernameLogin=document.getElementById('usernameLogin').value;

        if (username=='')
        {
          document.getElementById('empty').value=usernameLogin;
        }
        else if (usernameLogin=='') {
          document.getElementById('empty').value=username;
        }
      }

      function getValue(){
        var username=window.location.href;
        var split=username.split("?")[1];
        var album=username.split("?")[2];
        var success=false;
        document.getElementById('empty').value=split;
        if (typeof album !=='undefined')
        {
          album=album.replace('%20',' ');
          var band=username.split("?")[3];
          band=band.replace('%20',' ');
          var price=username.split("?")[4];

          if (split=='failure')
          {
            alert("Your password or username was wrong or you have not registered.");
            success=false;
          }
          else {
            alert('Album:'+album+'\nBand:'+band+'\nPrice:'+price);
            success=true;
          }
        }
        else if (split !=='undefined'){
          if (split!=='failure'&&success)
          {
            alert("Register is successfull.");
            album='kappa';
            success=false;
          }
          else if (split=='failure'){
            window.setTimeout(function(){

                    // Move to a new location or you can do something else
                    window.location.href = "./login_register.html?undefined";

                }, 1000);
          alert("Your password or username was wrong or you have not registered.");
          success=false;
        }
      }
    }

      function emptyLogin(){
        var usr=document.getElementById('usernameLogin').value;
        var pass=document.getElementById('passwordLogin').value;
        var msg="";

        if (usr==='')
        msg+='Your username is Empty.\n';
        if (pass==='')
        msg+='Your password is Empty.';
        if (msg==="")
          return true;
        else{
          alert(msg);
          return false;
        }
      }

    </script>
    <style media="screen">
  body{
      background-image: url("images/wallpaper.png");
      background-size: cover;
  }

  h1{
    text-align:center;
    font-size:40px;
  }

  .left{
    float:left;
    margin-left:12.5%;
  }

  .right{
    float:right;
    margin-right:12.5%;
  }
  label{
    font-weight:bold;
    font-size:24px;
  }

  .leftTable{
    height:500px;
    width:500px;
  }

  h2{
    font-size:28px;
  }
  input{
    height:25px;
  }

  .rightTable{
    height:200px;
    width:300px;
  }

  fieldset{
    border-color: #ffffff00;
  }

  .flex-container{
    display: flex;
    flex-wrap:nowrap;
    width:100%;
  }

  a{
    flex-grow: 1;
  }

  button{
    width:100%;
    font-size: 24px;
    background-color:orange;
    border: 1px solid black;
  }
  button:hover {
    background-color: #FF2A00;
    cursor: pointer;
  }

    </style>
  </head>
  <body onload="getValue();">
<h1><u>Register and Login</u></h1>
<div class="flex-container">
  <a href='' onclick="this.href='diskopoleio.html?'+document.getElementById('empty').value"><button><strong>Home</strong></button></a>
  <a href='' onclick="this.href='login_register.html?'+document.getElementById('empty').value"><button><strong>Register and Login</strong></button></a>
  <a href='' onclick="this.href='the_queen.html?'+document.getElementById('empty').value"><button><strong>The Queen</strong></button></a>
  <a href='' onclick="this.href='pink_floyd.html?'+document.getElementById('empty').value"><button><strong>Pink Floyd</strong></button></a>
  <a href='' onclick="this.href='led_zeppelin.html?'+document.getElementById('empty').value"><button><strong>Led Zeppelin</strong></button></a>
  <a href='' onclick="this.href='contact.html?'+document.getElementById('empty').value"><button><strong>Contact</strong></button></a>
</div>
<div class="alignObjects">
  <div class="left">
  <h2 style="margin-left:35%;">Register</h2>
  <form method="post" action="php/saveInDb.php">
  <fieldset>
    <table class="leftTable">
      <tr>
        <td><label for="firstname">Username:</label></td>
        <td><input type="text" id="username" name="username" placeholder="Your Username" onchange=""></td><span id="empty"></span>
      </tr>
      <tr>
        <td><label for="firstname">First Name:</label></td>
        <td><input type="text" id="firstname" name="firstname" placeholder="Your First Name" ></td>
      </tr>
      <tr>
      <td><label for="lastname">Last Name:</label></td>
      <td><input type="text" id="lastname" name="lastname" placeholder="Your Last Name"></td>
      </tr>
      <tr>
        <td><label for="email">Email:</label></td>
        <td><input type="email" id="email" name="email" placeholder="Your Email"></td>
      </tr>
      <tr>
        <td><label for="password">Password:</label></td>
        <td><input type="password" id="password" name="password" placeholder="Your Password" minlength="8"></td>
      </tr>
      <tr>
        <td><label for="verifyPassword">Verify Password:</label></td>
        <td><input type="password" id="verifyPassword" name="verifyPassword" placeholder="Your Password" minlength="8"></td>
      </tr>
    </table>
  </fieldset>

  <fieldset style="border: none">
  <table>
    <tr>
      <td><input type="submit" value="Register" style="width:100px;margin-top:20px;" onclick="sendInfoNextPage();return validateForm();"></td>
      <td><input type="reset" value="Cancel"  style="width:100px;margin-top:20px;margin-left:15px;"></td>
    </tr>
  </table>
    </fieldset>
  </form>
</div>
<h3 style="margin-left:45%;color:#990602;">Only English please!</h3>
  <div class="right">
  <h2 style="margin-left:38%;">Login</h2>
  <form method="post" action="php/findEmail.php">
  <fieldset>
    <table class="rightTable">
      <tr>
        <td><label for="usernameLogin">Username:</label></td>
        <td><input type="text" id="usernameLogin" name="usernameLogin" placeholder="Your Username" onchange=""></td>
      </tr>
      <tr>
      <td><label for="passwordLogin">Password:</label></td>
      <td><input type="password" id="passwordLogin" name="passwordLogin" placeholder="Your Password"></td>
      </tr>
    </table>
  </fieldset>
  <fieldset style="border: none">
  <table>
    <tr>
      <td><input type="submit" value="Login" onclick="sendInfoNextPage();return emptyLogin();" style="width:100px;margin-top:20px;"></td>
      <td><input type="reset" value="Cancel" style="width:100px;margin-top:20px;margin-left:15px;"></td>
    </tr>
  </table>
    </fieldset>
  </form>
  </div>
</div>
  </body>
</html>
